{
  "schema_version": "0.1.0",
  "metadata": { "name": "non-fungible-token", "version": "1.1.0", "authors": ["Near Inc <hello@near.org>"] },
  "body": {
    "functions": [
      {
        "name": "new",
        "is_init": true,
        "params": [
          { "name": "owner_id", "serialization_type": "json", "type_schema": { "$ref": "#/definitions/AccountId" } },
          {
            "name": "metadata",
            "serialization_type": "json",
            "type_schema": { "$ref": "#/definitions/NFTContractMetadata" }
          }
        ]
      },
      {
        "name": "new_default_meta",
        "is_init": true,
        "params": [
          { "name": "owner_id", "serialization_type": "json", "type_schema": { "$ref": "#/definitions/AccountId" } }
        ]
      },
      {
        "name": "nft_approve",
        "is_payable": true,
        "params": [
          { "name": "token_id", "serialization_type": "json", "type_schema": { "type": "string" } },
          { "name": "account_id", "serialization_type": "json", "type_schema": { "$ref": "#/definitions/AccountId" } },
          { "name": "msg", "serialization_type": "json", "type_schema": { "type": ["string", "null"] } }
        ],
        "result": {
          "serialization_type": "json",
          "type_schema": { "anyOf": [{ "$ref": "#/definitions/Promise" }, { "type": "null" }] }
        }
      },
      {
        "name": "nft_is_approved",
        "is_view": true,
        "params": [
          { "name": "token_id", "serialization_type": "json", "type_schema": { "type": "string" } },
          {
            "name": "approved_account_id",
            "serialization_type": "json",
            "type_schema": { "$ref": "#/definitions/AccountId" }
          },
          {
            "name": "approval_id",
            "serialization_type": "json",
            "type_schema": { "type": ["integer", "null"], "format": "uint64", "minimum": 0 }
          }
        ],
        "result": { "serialization_type": "json", "type_schema": { "type": "boolean" } }
      },
      {
        "name": "nft_metadata",
        "is_view": true,
        "result": { "serialization_type": "json", "type_schema": { "$ref": "#/definitions/NFTContractMetadata" } }
      },
      {
        "name": "nft_mint",
        "is_payable": true,
        "params": [
          { "name": "token_id", "serialization_type": "json", "type_schema": { "type": "string" } },
          { "name": "receiver_id", "serialization_type": "json", "type_schema": { "$ref": "#/definitions/AccountId" } },
          {
            "name": "token_metadata",
            "serialization_type": "json",
            "type_schema": { "$ref": "#/definitions/TokenMetadata" }
          }
        ],
        "result": { "serialization_type": "json", "type_schema": { "$ref": "#/definitions/Token" } }
      },
      {
        "name": "nft_resolve_transfer",
        "is_private": true,
        "params": [
          {
            "name": "previous_owner_id",
            "serialization_type": "json",
            "type_schema": { "$ref": "#/definitions/AccountId" }
          },
          { "name": "receiver_id", "serialization_type": "json", "type_schema": { "$ref": "#/definitions/AccountId" } },
          { "name": "token_id", "serialization_type": "json", "type_schema": { "type": "string" } },
          {
            "name": "approved_account_ids",
            "serialization_type": "json",
            "type_schema": {
              "type": ["object", "null"],
              "additionalProperties": { "type": "integer", "format": "uint64", "minimum": 0 }
            }
          }
        ],
        "result": { "serialization_type": "json", "type_schema": { "type": "boolean" } }
      },
      {
        "name": "nft_revoke",
        "is_payable": true,
        "params": [
          { "name": "token_id", "serialization_type": "json", "type_schema": { "type": "string" } },
          { "name": "account_id", "serialization_type": "json", "type_schema": { "$ref": "#/definitions/AccountId" } }
        ]
      },
      {
        "name": "nft_revoke_all",
        "is_payable": true,
        "params": [{ "name": "token_id", "serialization_type": "json", "type_schema": { "type": "string" } }]
      },
      {
        "name": "nft_supply_for_owner",
        "is_view": true,
        "params": [
          { "name": "account_id", "serialization_type": "json", "type_schema": { "$ref": "#/definitions/AccountId" } }
        ],
        "result": { "serialization_type": "json", "type_schema": { "$ref": "#/definitions/U128" } }
      },
      {
        "name": "nft_token",
        "is_view": true,
        "params": [{ "name": "token_id", "serialization_type": "json", "type_schema": { "type": "string" } }],
        "result": {
          "serialization_type": "json",
          "type_schema": { "anyOf": [{ "$ref": "#/definitions/Token" }, { "type": "null" }] }
        }
      },
      {
        "name": "nft_tokens",
        "is_view": true,
        "params": [
          {
            "name": "from_index",
            "serialization_type": "json",
            "type_schema": { "anyOf": [{ "$ref": "#/definitions/U128" }, { "type": "null" }] }
          },
          {
            "name": "limit",
            "serialization_type": "json",
            "type_schema": { "type": ["integer", "null"], "format": "uint64", "minimum": 0 }
          }
        ],
        "result": {
          "serialization_type": "json",
          "type_schema": { "type": "array", "items": { "$ref": "#/definitions/Token" } }
        }
      },
      {
        "name": "nft_tokens_for_owner",
        "is_view": true,
        "params": [
          { "name": "account_id", "serialization_type": "json", "type_schema": { "$ref": "#/definitions/AccountId" } },
          {
            "name": "from_index",
            "serialization_type": "json",
            "type_schema": { "anyOf": [{ "$ref": "#/definitions/U128" }, { "type": "null" }] }
          },
          {
            "name": "limit",
            "serialization_type": "json",
            "type_schema": { "type": ["integer", "null"], "format": "uint64", "minimum": 0 }
          }
        ],
        "result": {
          "serialization_type": "json",
          "type_schema": { "type": "array", "items": { "$ref": "#/definitions/Token" } }
        }
      },
      {
        "name": "nft_total_supply",
        "is_view": true,
        "result": { "serialization_type": "json", "type_schema": { "$ref": "#/definitions/U128" } }
      },
      {
        "name": "nft_transfer",
        "is_payable": true,
        "params": [
          { "name": "receiver_id", "serialization_type": "json", "type_schema": { "$ref": "#/definitions/AccountId" } },
          { "name": "token_id", "serialization_type": "json", "type_schema": { "type": "string" } },
          {
            "name": "approval_id",
            "serialization_type": "json",
            "type_schema": { "type": ["integer", "null"], "format": "uint64", "minimum": 0 }
          },
          { "name": "memo", "serialization_type": "json", "type_schema": { "type": ["string", "null"] } }
        ]
      },
      {
        "name": "nft_transfer_call",
        "is_payable": true,
        "params": [
          { "name": "receiver_id", "serialization_type": "json", "type_schema": { "$ref": "#/definitions/AccountId" } },
          { "name": "token_id", "serialization_type": "json", "type_schema": { "type": "string" } },
          {
            "name": "approval_id",
            "serialization_type": "json",
            "type_schema": { "type": ["integer", "null"], "format": "uint64", "minimum": 0 }
          },
          { "name": "memo", "serialization_type": "json", "type_schema": { "type": ["string", "null"] } },
          { "name": "msg", "serialization_type": "json", "type_schema": { "type": "string" } }
        ],
        "result": { "serialization_type": "json", "type_schema": { "$ref": "#/definitions/PromiseOrValueBoolean" } }
      }
    ],
    "root_schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "String",
      "type": "string",
      "definitions": {
        "AccountId": { "type": "string" },
        "Base64VecU8": { "type": "string" },
        "NFTContractMetadata": {
          "type": "object",
          "required": ["name", "spec", "symbol"],
          "properties": {
            "base_uri": { "type": ["string", "null"] },
            "icon": { "type": ["string", "null"] },
            "name": { "type": "string" },
            "reference": { "type": ["string", "null"] },
            "reference_hash": { "anyOf": [{ "$ref": "#/definitions/Base64VecU8" }, { "type": "null" }] },
            "spec": { "type": "string" },
            "symbol": { "type": "string" }
          }
        },
        "Promise": true,
        "PromiseOrValueBoolean": { "type": "boolean" },
        "Token": {
          "type": "object",
          "required": ["owner_id", "token_id"],
          "properties": {
            "approved_account_ids": {
              "type": ["object", "null"],
              "additionalProperties": { "type": "integer", "format": "uint64", "minimum": 0 }
            },
            "metadata": { "anyOf": [{ "$ref": "#/definitions/TokenMetadata" }, { "type": "null" }] },
            "owner_id": { "$ref": "#/definitions/AccountId" },
            "token_id": { "type": "string" }
          }
        },
        "TokenMetadata": {
          "type": "object",
          "properties": {
            "copies": { "type": ["integer", "null"], "format": "uint64", "minimum": 0 },
            "description": { "type": ["string", "null"] },
            "expires_at": { "type": ["string", "null"] },
            "extra": { "type": ["string", "null"] },
            "issued_at": { "type": ["string", "null"] },
            "media": { "type": ["string", "null"] },
            "media_hash": { "anyOf": [{ "$ref": "#/definitions/Base64VecU8" }, { "type": "null" }] },
            "reference": { "type": ["string", "null"] },
            "reference_hash": { "anyOf": [{ "$ref": "#/definitions/Base64VecU8" }, { "type": "null" }] },
            "starts_at": { "type": ["string", "null"] },
            "title": { "type": ["string", "null"] },
            "updated_at": { "type": ["string", "null"] }
          }
        },
        "U128": { "type": "integer", "format": "uint128", "minimum": 0 }
      }
    }
  }
}
